<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script src="canopy-js-client/canopy_client.js"></script>
<script src="canopy_dispatcher.js"></script>
<script src="canopy_app_util.js"></script>
<script src="nodes/cano.js"></script>
<script src="nodes/cano_device_controls_dialog.js"></script>
<script src="nodes/cano_device_event_dialog.js"></script>
<script src="nodes/cano_device_sensors_dialog.js"></script>
<script src="nodes/cano_devices_dialog.js"></script>
<script src="nodes/cano_dialog.js"></script>
<script src="nodes/cano_event_panel.js"></script>
<script src="nodes/cano_login_dialog.js"></script>
<script src="nodes/cano_login_page.js"></script>
<script src="nodes/cano_main_page.js"></script>
<script src="nodes/cano_message_bar.js"></script>
<script src="nodes/cano_monitor_sensor_list.js"></script>
<script src="nodes/cano_option.js"></script>
<script src="nodes/cano_status_panel.js"></script>
<script src="nodes/cano_signup_dialog.js"></script>
<script src="nodes/cano_sidebar.js"></script>
<script src="nodes/cano_submenu.js"></script>
<script src="nodes/cano_topbar.js"></script>
<script src="nodes/temp_demo/cano_temp_demo_page.js"></script>
<script src="nodes/cano_plot.js"></script>
<script src="nodes/fan_demo/cano_fan_demo_page.js"></script>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,700|ABeeZee|Titillium+Web:200,300,400,700' rel='stylesheet' type='text/css'>
<link href='canopy_webapp.css' rel='stylesheet' type='text/css'>
</head>
<body>
<div id="main"></div>
</body>
<script>
var canopy = new CanopyClient({
    cloudHost : "canopy.link",
    cloudHTTPPort : 8080,
    cloudUseHTTPS : false,
});
var gAccount = null; /* hack */
$(function() {
    var dispatcher = new CanopyDispatcher(canopy);
    canopy.fetchAccount({
        onSuccess: function(account) {
            gAccount = account;
            dispatcher.showPage("main");
        },
        onError: function(reason) {
            dispatcher.showPage("login");
        }
    });
});
</script>
</html>
